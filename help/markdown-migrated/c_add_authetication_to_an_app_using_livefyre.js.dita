<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="c_add_authetication_to_an_app_using_livefyre.js">
 <title>Add Authetication to an App using Livefyre.js</title>
 <shortdesc>Use Livefyre.js to add page-wide authentication for your Livefyre Apps.</shortdesc>
 <conbody>
  <p>Livefyre.js Auth is a JavaScript package developed by Livefyre that enables all the Apps on
   your website to share a single authentication integration. Auth allows you to define how your
   users should register, log in, and log out by delegating these flows to an AuthDelegate object
   that you define.</p>
  <section id="section_pgp_jtt_bbb">
   <title>Step 1: Enable Authentication for a Page</title>
   <p>Use Livefyre.js to enable authentication for a page in order to allow users to log in and
    interact with Apps using your existing authentication system.</p>
   <ol id="ol_cmt_ltt_bbb">
    <li>
     <p>To enable authentication on a page, add Livefyre.js to the &lt;head> element of your webpage
      or website template.</p>
     <codeblock>&lt;script src="//cdn.livefyre.com/Livefyre.js">&lt;/script></codeblock>
    </li>
    <li>
     <p>Use Livefyre.require to enable authentication. Using Livefyre.require is similar to using
      require to call other packages. The integration code to require auth looks like this:</p>
     <codeblock>Livefyre.require(['auth'], function (auth) { // Do authy things...});</codeblock>
    </li>
   </ol>
  </section>
  <section id="section_oqm_15t_bbb">
   <title>Step 2: Register an AuthDelegate</title>
   <p>To enable authentication create an <codeph>AuthDelegate</codeph> and pass it to
     <codeph>Livefyre.js</codeph> Authentication.</p>
   <p>An <codeph>AuthDelegate</codeph> is an object you define that determines how users will log
    in, log out, and view profiles. </p>
   <ol id="ol_rhp_d5t_bbb">
    <li>Create an <codeph>AuthDelegate</codeph>. The way you construct an
      <codeph>AuthDelegate</codeph> depends on your identity provider. See Identity Integration for
     more detailed instructions.<!--HRK 4/14/17 link to here?--></li>
    <li>Pass the <codeph>AuthDelegate</codeph> to <codeph>Livefyre.js</codeph> Authentication. The
     simplest <codeph>AuthDelegate</codeph> logs the same user in whenever a user triggered the
     delegated login method from an
     App:<codeblock>Livefyre.require(['auth'], function (auth) {
   auth.delegate({
      login: function (errback) {
         errback(null, { livefyre: '&lt;userAuthToken>' });
      }   
   }); 
});</codeblock></li>
   </ol>
  </section>
  <section id="section_u4m_j5t_bbb">
   <title>Step 3: Synchronize User Data</title>
   <p>Synchronize the user profile information between Livefyre and your identity provider.</p>
   <p>If youâ€™re not using <xref
     href="c_livefyre_enterprise_profiles.dita#c_livefyre_enterprise_profiles">Livefyre Enterprise
     Profiles</xref>, you must synchronize your user profile information between Livefyre and your
    Identity Provider. For more information, see:</p>
   <ul id="ul_a55_4b1_21b">
    <li><xref href="c_your_identity_service.dita#c_your_identity_service">Your Identity
      Service</xref></li>
    <li><xref href="c_janrain_capture_backplane.dita#c_janrain_capture_backplane">Janrain Capture
      Integration</xref></li>
   </ul>
  </section>
 </conbody>
</concept>
