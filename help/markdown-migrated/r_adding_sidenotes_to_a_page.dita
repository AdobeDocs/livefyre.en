<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="r_adding_sidenotes_to_a_page">
  <title>Adding Sidenotes to a Page</title>
  <shortdesc></shortdesc>
  <prolog>
    <metadata>
      <othermeta name="solution" content="Experience Manager"/>
    </metadata>
  </prolog>
  <refbody>
    <section id="section_tzl_qpv_sy">
      <p>Livefyre provides several configuration options to position Sidenotes on your page:</p>
      <ul id="ul_wt2_c3n_sy">
        <li>The Selectors option defines the elements on which Sidenotes should appear.</li>
        <li>Anchors represent elements which can be sidenoted.</li>
        <li>The custom thread container allows you to define where the Sidenotes thread will be
          located in relation to the sidenoted content.</li>
        <li>The Sidenotes count option allows you to display the number of Sidenotes added at the
          given location.</li>
        <li>Use multiple <codeph>ConvConfig</codeph> objects to add Sidenotes to several stories on
          a single page.</li>
      </ul>
    </section>
    <section id="section_wyj_4sv_sy">
      <title>Selectors</title>
      <p>The selectors option enables Sidenotes to find content on the page. The value for this
        option allows you to dynamically determine the elements that will be used. It can be a
        selector string (such as ‘#content p, #content img’), a jQuery object (such as
        $(‘#content’)), an array of DOM elements, or an object with two properties: include and
        exclude. The Sidenotes App will then use either the specified elements or the matching
        elements on the page. If include and exclude properties are used, Sidenotes will first parse
        the page to find all elements on the include property, then remove any elements found on the
        exclude property.</p>
    </section>
    <section id="section_ehq_psv_sy">
      <title>Anchors</title>
      <p>Anchors represent an element whose content can be sidenoted. An anchor element can contain
        text or an image. The selectors option that is passed during App construction will determine
        the anchor elements.</p>
    </section>
    <section id="section_rsb_rsv_sy">
      <title>Anchor IDs</title>
      <p>Anchors on the page are identified using a “data-lf-anchor-id”.</p>
      <p>To set the ID for an anchor yourself, add the attribute “data-lf-custom-anchor-id” to the
        element that you would like to map to an anchor. This is helpful in cases where the
        auto-detection of anchors would fail.</p>
      <p>For example, if you plan to use a different URL for the desktop and mobile versions of an
        image, two different URLs might be mapped to different anchors. If, instead, your HTML
        supplies a “data-lf-custom-anchor-id” that is the same on both mobile and desktop, then the
        image element will be treated as a single anchor.</p>
      <p>Anchors have a type that is determined dynamically, but can also be explicitly set using
        the “data-lf-custom-anchor-type” attribute.</p>
      <note>The enumeration number value must be used.</note>
      <p>Available types are:</p>
      <dl>
        <dlentry>
          <dt>Text:</dt>
          <dd>1</dd>
        </dlentry>
        <dlentry>
          <dt>Image:</dt>
          <dd>2</dd>
        </dlentry>
        <dlentry>
          <dt>Media:</dt>
          <dd>3</dd>
        </dlentry>
        <dlentry>
          <dt>Rich:</dt>
          <dd>4</dd>
        </dlentry>
      </dl>
      <p>See <xref href="r_updateAnchors_method.dita#r_updateAnchors_method"/> for more on how to
        use the <codeph>updateAnchors</codeph> method to add Sidenote content to the page
        dynamically.</p>
    </section>
    <section id="section_jdh_btv_sy">
      <title>Custom Thread Container</title>
      <p>Use the <codeph>threadContainerEl</codeph> option to specify a location for a Sidenotes
        thread, other than the default position. By default, when an anchor is activated, the
        Sidenotes will appear next to or below the relevant content. To change this default, use the
          <codeph>threadContainerEl</codeph> to specify the element where the thread should
        appear.</p>
      <p>This value for this option works the same as the selectors option, except only the first
        valid element will be used.</p>
    </section>
    <section id="section_pld_ntv_sy">
      <title>Sidenotes Count</title>
      <p>Use the <codeph>numSidenotesEl</codeph> option to embed an optional Sidenotes count widget
        on your page. This option accepts the same input as the selectors option but will use only
        the first valid element in the input array.</p>
      <p>The widget will decorate the provided or matched element, and will include the Sidenotes
        input icon, the number of Sidenotes entered at this position, and a help icon.</p>
      <p>Clicking on the widget will display a popover with a short explanation of Sidenotes and how
        to use them.</p>
      <p>Both the explanation and the example text are configurable using custom strings
          (<codeph>questionExplanation</codeph> and <codeph>questionMockText</codeph>,
        respectively). The appearance of the count widget and the popover may also be configured
        using custom styles (<codeph>numSidenotes</codeph> and <codeph>numSidenotesPopover</codeph>,
        respectively).</p>
    </section>
    <section id="section_pjl_ptv_sy"><title>Adding Multiple Sidenotes Collections to a Single
        Page</title>Livefyre allows you to add multiple Sidenotes Collections to a single page. For
      example, if the page includes three news stories, you may wish to include three separate
      iterations of the Sidenotes App. To do this, you must define a separate
        <codeph>ConvConfig</codeph> object for each instance of Sidenotes you wish to build. For
      example:<codeblock>
&lt;html>
   &lt;head>
      &lt;script src="//cdn.livefyre.com/Livefyre.js">&lt;/script>
   &lt;/head>
&lt;body>
   &lt;h2>Story #1&lt;/h2>
   &lt;div id="story1">
      &lt;p class="sidenotes">stuff #1&lt;/p>
      &lt;p class="sidenotes">more stuff #1&lt;/p>
   &lt;/div>
   &lt;hr />
   &lt;h2>Story #2&lt;/h2>
   &lt;div id="story2">
      &lt;p class="sidenotes">stuff #2&lt;/p>
      &lt;p class="sidenotes">more stuff #2&lt;/p>
      &lt;p class="sidenotes">more and more stuff&lt;/p>
   &lt;/div>
   &lt;hr />
   &lt;script type="text/javascript">
      var convConfig_story1 = {
         network: '&lt;Your Network>',
         siteId: '&lt;Site ID>',
         articleId: '&lt;Your Article ID>',
         selectors: '#story1 > p.sidenotes',
         collectionMeta: '&lt;First collectionMeta>'
      };
 
      var convConfig_story2 = {
         network: '&lt;Your Network>',
         siteId: '&lt;Site ID>',
         articleId: '&lt;Your Second Article ID>',
         selectors: '#story2 > p.sidenotes',
         collectionMeta: '&lt;Second collectionMeta>'
      };
 
      Livefyre.require(['sidenotes#1', 'auth'], function(Sidenotes, auth) {
         new Sidenotes(convConfig_story1);
         new Sidenotes(convConfig_story2);
         auth.delegate({
            login: function (callback) {
               callback(null,{livefyre: '&lt;Login Token>'});
            }
         });
      });
   &lt;/script>
&lt;/body>
&lt;/html></codeblock></section>
  </refbody>
</reference>
